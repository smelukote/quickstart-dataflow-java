steps:

- name: gcr.io/cloud-builders/mvn
  args: ['-Dproject.build.sourceEncoding=UTF-8', '-Dproject.reporting.outputEncoding=UTF-8', 'clean']

- name: gcr.io/cloud-builders/mvn
  args: ['install', '-Dmaven.test.skip=true', '-Dcheckstyle.skip']

- name: gcr.io/cloud-builders/mvn
  args: ['package', '-Dmaven.test.skip=true', '-Dcheckstyle.skip']
artifacts:
  objects:
    location: "gs://quickstart-dataflow-smdata2022/smdata2022-temp"
    paths:
    - "${_CLASS}"

# substitutions:
#   _DESTINATION_BUCKET: quickstart-dataflow-smdata2022
#   _SOURCE_FILES: /java/com/bayer/gcde/src
options:
  logging: CLOUD_LOGGING_ONLY